<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Satriawa</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Helvetica+Neue:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
    <div id="authOverlay" class="overlay active">
        <div class="auth-box">
            <h2 id="authTitle">Masuk ke Satriawa</h2>
            
            <div id="loginForm" style="display: block;">
                <input type="text" id="loginEmail" placeholder="Email atau Nama">
                <input type="password" id="loginPassword" placeholder="Password">
                <button id="loginBtn">Masuk</button>
                <p style="margin-top: 15px; color: var(--wa-text-secondary);">Belum punya akun? <a href="#" id="showRegisterBtn" style="color: var(--wa-green); text-decoration: none;">Daftar</a></p>
            </div>

            <div id="registerForm" style="display: none;">
                <input type="text" id="registerNama" placeholder="Nama Lengkap">
                <input type="email" id="registerEmail" placeholder="Email">
                <input type="date" id="registerTanggalLahir" placeholder="Tanggal Lahir">
                <input type="password" id="registerPassword" placeholder="Password">
                <input type="password" id="registerConfirmPassword" placeholder="Konfirmasi Password">
                <button id="registerBtn">Daftar</button>
                <p style="margin-top: 15px; color: var(--wa-text-secondary);">Sudah punya akun? <a href="#" id="showLoginBtn" style="color: var(--wa-green); text-decoration: none;">Masuk</a></p>
            </div>
        </div>
    </div>

    <div id="setupOverlay" class="overlay">
        <div class="auth-box">
            <h2>Profil Anda</h2>
            <img id="setupPreview" src="https://files.clugo.my.id/Rwj8w.jpeg" alt="Preview">
            <input type="file" id="setupPhotoInput" accept="image/*" style="display:none;">
            <button id="setupPhotoBtn">Ubah Foto</button>
            <input type="text" id="setupNameInput" placeholder="Masukkan nama Anda">
            <button id="setupSubmitBtn">Selesai</button>
        </div>
    </div>

    <div id="settingsOverlay" class="overlay">
        <div class="auth-box">
            <h2>Pengaturan Profil</h2>
            <p>ID Pengguna: <span id="settingsUserId"></span></p>
            <img id="settingsPreview" src="" alt="Profile">
            <input type="file" id="settingsPhotoInput" accept="image/*" style="display:none;">
            <button id="settingsPhotoBtn">Ubah Foto</button>
            <input type="text" id="settingsNameInput" placeholder="Nama Anda">
            <button id="settingsSaveBtn">Simpan</button>
            <button id="logoutBtn" style="background:#FF3B30; margin-top:10px;">Keluar</button>
            <button id="settingsCloseBtn" style="background:#555; margin-top:10px;">Tutup</button>
        </div>
    </div>

    <div id="newChatOverlay" class="overlay">
        <div class="auth-box">
            <h2>Cari Pengguna</h2>
            <input type="number" id="searchIdInput" placeholder="Masukkan ID Pengguna">
            <button id="startChatBtn">Mulai Chat</button>
            <button id="closeNewChatBtn" style="background:#555; margin-top:10px;">Batal</button>
        </div>
    </div>

    <div id="callOverlay" class="overlay">
        <div class="call-box">
            <h2 id="callStatusText">Memanggil...</h2>
            <video id="remoteVideo" autoplay playsinline></video>
            <video id="localVideo" autoplay playsinline muted></video>
            <div class="call-controls">
                <button id="answerCallBtn" style="display:none; background:#25D366;"><i class="fas fa-phone"></i> Jawab</button>
                <button id="endCallBtn" style="background:#FF3B30;"><i class="fas fa-phone-slash"></i> Tutup</button>
            </div>
        </div>
    </div>

    <div class="iphone-notch">
        <div class="status-left" id="currentTime"></div>
        <div class="status-right">
            <i class="fas fa-signal signal-icon"></i>
            <i class="fas fa-wifi wifi-icon"></i>
            <div class="battery-container">
                <div class="battery-icon">
                    <div class="battery-level" id="batteryLevel"></div>
                </div>
                <span class="battery-percent" id="batteryPercent"></span>
            </div>
        </div>
    </div>

    <div class="wa-container" id="waContainer">
        <div class="tabs-container">
            <div class="header">
                <div class="header-title">Chats</div>
                <div class="header-actions">
                    <i class="fas fa-plus" id="newChatIcon" title="Chat Baru"></i>
                    <i class="fas fa-ellipsis-vertical" id="settingsIcon" title="Pengaturan"></i>
                </div>
            </div>

            <div class="wa-tabs">
                <div class="wa-tab active" data-tab="chats">Chats</div>
                <div class="wa-tab" data-tab="updates">Updates</div>
            </div>

            <div class="tab-content">
                <div class="tab-pane active" id="chatsTab">
                    <div class="chat-list" id="chatList"></div>
                </div>

                <div class="tab-pane" id="updatesTab">
                    <div class="updates-content">
                        <div class="stories-header">
                            <div class="stories-title">Status</div>
                            <div class="stories-list" id="storiesList">
                                <div class="story-item my-status" id="myStatusBtn">
                                    <div class="story-avatar">
                                        <img id="myStatusImg" src="" alt="My Status">
                                    </div>
                                    <div class="story-name">My Status</div>
                                </div>
                            </div>
                            <input type="file" id="statusUploadInput" accept="image/*,video/*" style="display:none;">
                        </div>
                        <div class="updates-list" id="updatesList"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-page" id="chatPage">
            <div class="chat-header-main">
                <div class="back-button" id="backButton">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="chat-contact">
                    <img id="activeChatAvatar" src="" alt="">
                    <div class="contact-info">
                        <h3 id="activeChatName"></h3>
                        <p id="activeChatStatus"></p>
                    </div>
                </div>
                <div class="chat-actions">
                    <i class="fas fa-video" id="videoCallBtn"></i>
                    <i class="fas fa-phone" id="audioCallBtn"></i>
                </div>
            </div>

            <div class="messages-wrapper" id="messagesContainer">
                <div class="encryption-notice">
                    <i class="fas fa-lock"></i>
                    <span>Pesan dan panggilan dienkripsi secara end-to-end.</span>
                </div>
            </div>

            <div class="input-area">
                <div class="message-input-container">
                    <textarea id="messageInput" placeholder="Message" rows="1"></textarea>
                </div>
                <div class="send-button active" id="sendButton">
                    <i class="fas fa-paper-plane"></i>
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="app.js"></script>
</body>
</html>
